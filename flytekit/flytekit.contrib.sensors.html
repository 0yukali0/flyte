

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>flytekit.contrib.sensors package &mdash; Flyte 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="flytekit.engines package" href="flytekit.engines.html" />
    <link rel="prev" title="flytekit.contrib package" href="flytekit.contrib.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Flyte
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Flyte Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administrator/index.html">Administrator Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributor/index.html">Contributor Docs</a></li>
</ul>
<p class="caption"><span class="caption-text">Generated Documentation from Source</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../flyteidl/index.html">Flyte Language and API specification</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Flytekit</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="flytekit.html">flytekit package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="flytekit.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="flytekit.bin.html">flytekit.bin package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.clients.html">flytekit.clients package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.clis.html">flytekit.clis package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.common.html">flytekit.common package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.configuration.html">flytekit.configuration package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="flytekit.contrib.html">flytekit.contrib package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.engines.html">flytekit.engines package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.interfaces.html">flytekit.interfaces package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.models.html">flytekit.models package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.plugins.html">flytekit.plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.sdk.html">flytekit.sdk package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.tools.html">flytekit.tools package</a></li>
<li class="toctree-l4"><a class="reference internal" href="flytekit.type_engines.html">flytekit.type_engines package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="flytekit.html#module-flytekit">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Flyte</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">flytekit</a> &raquo;</li>
        
          <li><a href="flytekit.html">flytekit package</a> &raquo;</li>
        
          <li><a href="flytekit.contrib.html">flytekit.contrib package</a> &raquo;</li>
        
      <li>flytekit.contrib.sensors package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/flytekit/flytekit.contrib.sensors.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="flytekit-contrib-sensors-package">
<h1>flytekit.contrib.sensors package<a class="headerlink" href="#flytekit-contrib-sensors-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-flytekit.contrib.sensors.base_sensor">
<span id="flytekit-contrib-sensors-base-sensor-module"></span><h2>flytekit.contrib.sensors.base_sensor module<a class="headerlink" href="#module-flytekit.contrib.sensors.base_sensor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flytekit.contrib.sensors.base_sensor.Sensor">
<em class="property">class </em><code class="sig-prename descclassname">flytekit.contrib.sensors.base_sensor.</code><code class="sig-name descname">Sensor</code><span class="sig-paren">(</span><em class="sig-param">evaluation_interval=None</em>, <em class="sig-param">max_failures=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flytekit/contrib/sensors/base_sensor.html#Sensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flytekit.contrib.sensors.base_sensor.Sensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="flytekit.contrib.sensors.base_sensor.Sensor.sense">
<code class="sig-name descname">sense</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flytekit/contrib/sensors/base_sensor.html#Sensor.sense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flytekit.contrib.sensors.base_sensor.Sensor.sense" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts
:param datetime.timedelta timeout:
:rtype: bool</p>
</dd></dl>

<dl class="method">
<dt id="flytekit.contrib.sensors.base_sensor.Sensor.sense_with_wait_hint">
<code class="sig-name descname">sense_with_wait_hint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flytekit/contrib/sensors/base_sensor.html#Sensor.sense_with_wait_hint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flytekit.contrib.sensors.base_sensor.Sensor.sense_with_wait_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to sense based on the lambda expression.  The method will return the last sensed result.  If the
rate of sensing is exceeded for the sensor, the timedelta in the returned tuple will tell the caller how long it
should sleep before trying again.
:rtype: (bool, Optional[datetime.timedelta])</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-flytekit.contrib.sensors.impl">
<span id="flytekit-contrib-sensors-impl-module"></span><h2>flytekit.contrib.sensors.impl module<a class="headerlink" href="#module-flytekit.contrib.sensors.impl" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flytekit.contrib.sensors.impl.HiveFilteredPartitionSensor">
<em class="property">class </em><code class="sig-prename descclassname">flytekit.contrib.sensors.impl.</code><code class="sig-name descname">HiveFilteredPartitionSensor</code><span class="sig-paren">(</span><em class="sig-param">table_name</em>, <em class="sig-param">partition_filter</em>, <em class="sig-param">host</em>, <em class="sig-param">port</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flytekit/contrib/sensors/impl.html#HiveFilteredPartitionSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flytekit.contrib.sensors.impl.HiveFilteredPartitionSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">flytekit.contrib.sensors.impl._HiveSensor</span></code></p>
</dd></dl>

<dl class="class">
<dt id="flytekit.contrib.sensors.impl.HiveNamedPartitionSensor">
<em class="property">class </em><code class="sig-prename descclassname">flytekit.contrib.sensors.impl.</code><code class="sig-name descname">HiveNamedPartitionSensor</code><span class="sig-paren">(</span><em class="sig-param">table_name</em>, <em class="sig-param">partition_names</em>, <em class="sig-param">host</em>, <em class="sig-param">port</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flytekit/contrib/sensors/impl.html#HiveNamedPartitionSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flytekit.contrib.sensors.impl.HiveNamedPartitionSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">flytekit.contrib.sensors.impl._HiveSensor</span></code></p>
</dd></dl>

<dl class="class">
<dt id="flytekit.contrib.sensors.impl.HiveTableSensor">
<em class="property">class </em><code class="sig-prename descclassname">flytekit.contrib.sensors.impl.</code><code class="sig-name descname">HiveTableSensor</code><span class="sig-paren">(</span><em class="sig-param">table_name</em>, <em class="sig-param">host</em>, <em class="sig-param">port</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flytekit/contrib/sensors/impl.html#HiveTableSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flytekit.contrib.sensors.impl.HiveTableSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">flytekit.contrib.sensors.impl._HiveSensor</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-flytekit.contrib.sensors.task">
<span id="flytekit-contrib-sensors-task-module"></span><h2>flytekit.contrib.sensors.task module<a class="headerlink" href="#module-flytekit.contrib.sensors.task" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flytekit.contrib.sensors.task.SensorTask">
<em class="property">class </em><code class="sig-prename descclassname">flytekit.contrib.sensors.task.</code><code class="sig-name descname">SensorTask</code><span class="sig-paren">(</span><em class="sig-param">task_function</em>, <em class="sig-param">task_type</em>, <em class="sig-param">discovery_version</em>, <em class="sig-param">retries</em>, <em class="sig-param">deprecated</em>, <em class="sig-param">storage_request</em>, <em class="sig-param">cpu_request</em>, <em class="sig-param">gpu_request</em>, <em class="sig-param">memory_request</em>, <em class="sig-param">storage_limit</em>, <em class="sig-param">cpu_limit</em>, <em class="sig-param">gpu_limit</em>, <em class="sig-param">memory_limit</em>, <em class="sig-param">discoverable</em>, <em class="sig-param">timeout</em>, <em class="sig-param">environment</em>, <em class="sig-param">custom</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flytekit/contrib/sensors/task.html#SensorTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flytekit.contrib.sensors.task.SensorTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="flytekit.common.tasks.html#flytekit.common.tasks.sdk_runnable.SdkRunnableTask" title="flytekit.common.tasks.sdk_runnable.SdkRunnableTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">flytekit.common.tasks.sdk_runnable.SdkRunnableTask</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="flytekit.contrib.sensors.task.sensor_task">
<code class="sig-prename descclassname">flytekit.contrib.sensors.task.</code><code class="sig-name descname">sensor_task</code><span class="sig-paren">(</span><em class="sig-param">_task_function=None</em>, <em class="sig-param">retries=0</em>, <em class="sig-param">deprecated=''</em>, <em class="sig-param">storage_request=None</em>, <em class="sig-param">cpu_request=None</em>, <em class="sig-param">gpu_request=None</em>, <em class="sig-param">memory_request=None</em>, <em class="sig-param">storage_limit=None</em>, <em class="sig-param">cpu_limit=None</em>, <em class="sig-param">gpu_limit=None</em>, <em class="sig-param">memory_limit=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">environment=None</em>, <em class="sig-param">cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/flytekit/contrib/sensors/task.html#sensor_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#flytekit.contrib.sensors.task.sensor_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to create a Sensor Task definition.  This task will run as a single unit of work on the platform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_task_function</strong> – this is the decorated method and shouldn’t be declared explicitly.  The function must
take a first argument, and then named arguments matching those defined in &#64;inputs.  No keyword
arguments are allowed for wrapped task functions.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – <p>[optional] integer determining number of times task can be retried on
<a class="reference internal" href="flytekit.sdk.html#flytekit.sdk.exceptions.RecoverableException" title="flytekit.sdk.exceptions.RecoverableException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">flytekit.sdk.exceptions.RecoverableException</span></code></a> or transient platform failures.  Defaults
to 0.
.. note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">If</span> <span class="n">retries</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">the</span> <span class="n">task</span> <span class="n">must</span> <span class="n">be</span> <span class="n">able</span> <span class="n">to</span> <span class="n">recover</span> <span class="kn">from</span> <span class="nn">any</span> <span class="n">remote</span> <span class="n">state</span> <span class="n">created</span> <span class="n">within</span> <span class="n">the</span> <span class="n">user</span> <span class="n">code</span><span class="o">.</span>  <span class="n">It</span> <span class="ow">is</span>
<span class="n">strongly</span> <span class="n">recommended</span> <span class="n">that</span> <span class="n">tasks</span> <span class="n">are</span> <span class="n">written</span> <span class="n">to</span> <span class="n">be</span> <span class="n">idempotent</span><span class="o">.</span>
</pre></div>
</div>
</p></li>
<li><p><strong>deprecated</strong> (<em>Text</em>) – [optional] string that should be provided if this task is deprecated.  The string
will be logged as a warning so it should contain information regarding how to update to a newer task.</p></li>
<li><p><strong>storage_request</strong> (<em>Text</em>) – <p>[optional] Kubernetes resource string for lower-bound of disk storage space
for the task to run.  Default is set by platform-level configuration.
.. note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="ow">is</span> <span class="n">currently</span> <span class="ow">not</span> <span class="n">supported</span> <span class="n">by</span> <span class="n">the</span> <span class="n">platform</span><span class="o">.</span>
</pre></div>
</div>
</p></li>
<li><p><strong>cpu_request</strong> (<em>Text</em>) – [optional] Kubernetes resource string for lower-bound of cores for the task to execute.
This can be set to a fractional portion of a CPU. Default is set by platform-level configuration.
TODO: Add links to resource string documentation for Kubernetes</p></li>
<li><p><strong>gpu_request</strong> (<em>Text</em>) – [optional] Kubernetes resource string for lower-bound of desired GPUs.
Default is set by platform-level configuration.
TODO: Add links to resource string documentation for Kubernetes</p></li>
<li><p><strong>memory_request</strong> (<em>Text</em>) – [optional]  Kubernetes resource string for lower-bound of physical memory
necessary for the task to execute.  Default is set by platform-level configuration.
TODO: Add links to resource string documentation for Kubernetes</p></li>
<li><p><strong>storage_limit</strong> (<em>Text</em>) – <p>[optional] Kubernetes resource string for upper-bound of disk storage space
for the task to run.  This amount is not guaranteed!  If not specified, it is set equal to storage_request.
.. note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="ow">is</span> <span class="n">currently</span> <span class="ow">not</span> <span class="n">supported</span> <span class="n">by</span> <span class="n">the</span> <span class="n">platform</span><span class="o">.</span>
</pre></div>
</div>
</p></li>
<li><p><strong>cpu_limit</strong> (<em>Text</em>) – [optional] Kubernetes resource string for upper-bound of cores for the task to execute.
This can be set to a fractional portion of a CPU. This amount is not guaranteed!  If not specified,
it is set equal to cpu_request.</p></li>
<li><p><strong>gpu_limit</strong> (<em>Text</em>) – [optional] Kubernetes resource string for upper-bound of desired GPUs. This amount is not
guaranteed!  If not specified, it is set equal to gpu_request.</p></li>
<li><p><strong>memory_limit</strong> (<em>Text</em>) – [optional]  Kubernetes resource string for upper-bound of physical memory
necessary for the task to execute.  This amount is not guaranteed!  If not specified, it is set equal to
memory_request.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.8)"><em>datetime.timedelta</em></a>) – [optional] describes how long the task should be allowed to
run at max before triggering a retry (if retries are enabled).  By default, tasks are allowed to run
indefinitely.  If a null timedelta is passed (i.e. timedelta(seconds=0)), the task will not timeout.</p></li>
<li><p><strong>environment</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>[</em><em>Text</em><em>,</em><em>Text</em><em>]</em>) – [optional] environment variables to set when executing this task.</p></li>
<li><p><strong>cls</strong> – This can be used to override the task implementation with a user-defined extension. The class
provided must be a subclass of flytekit.common.tasks.sdk_runnable.SdkRunnableTask.  A user can use this to
inject bespoke logic into the base Flyte programming model. Ideally, should be a sub-class of SensorTask or
otherwise mimic the behavior.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#flytekit.contrib.sensors.task.SensorTask" title="flytekit.contrib.sensors.task.SensorTask">SensorTask</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-flytekit.contrib.sensors">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-flytekit.contrib.sensors" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="flytekit.engines.html" class="btn btn-neutral float-right" title="flytekit.engines package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="flytekit.contrib.html" class="btn btn-neutral float-left" title="flytekit.contrib package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Flyte Authors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>