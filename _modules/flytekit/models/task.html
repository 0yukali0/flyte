

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>flytekit.models.task &mdash; Flyte 0.8.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/flyte_lockup_on_dark.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Flyte Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user/index.html">User docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../administrator/index.html">Administrator Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributor/index.html">Contributor Docs</a></li>
</ul>
<p class="caption"><span class="caption-text">Flyte User cookbook and examples (Github)</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lyft/flytesnacks/blob/master/README.md">FlyteSnacks - Examples &amp; Cookbook</a></li>
</ul>
<p class="caption"><span class="caption-text">Generated Documentation from Source</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../flytekit/index.html">Flytekit Python</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/spotify/flytekit-java">Flytekit JAVA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../flyteidl/index.html">Flyte Language and API specification</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pkg.go.dev/mod/github.com/lyft/flytepropeller">FlytePropeller</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pkg.go.dev/mod/github.com/lyft/flyteadmin">FlyteAdmin</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pkg.go.dev/mod/github.com/lyft/flyteplugins">FlytePlugins</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pkg.go.dev/mod/github.com/lyft/datacatalog">DataCatalog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Flyte</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>flytekit.models.task</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for flytekit.models.task</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">json</span> <span class="k">as</span> <span class="nn">_json</span>
<span class="kn">import</span> <span class="nn">typing</span>

<span class="kn">import</span> <span class="nn">six</span> <span class="k">as</span> <span class="nn">_six</span>
<span class="kn">from</span> <span class="nn">flyteidl.admin</span> <span class="k">import</span> <span class="n">task_pb2</span> <span class="k">as</span> <span class="n">_admin_task</span>
<span class="kn">from</span> <span class="nn">flyteidl.core</span> <span class="k">import</span> <span class="n">compiler_pb2</span> <span class="k">as</span> <span class="n">_compiler</span>
<span class="kn">from</span> <span class="nn">flyteidl.core</span> <span class="k">import</span> <span class="n">literals_pb2</span> <span class="k">as</span> <span class="n">_literals_pb2</span>
<span class="kn">from</span> <span class="nn">flyteidl.core</span> <span class="k">import</span> <span class="n">tasks_pb2</span> <span class="k">as</span> <span class="n">_core_task</span>
<span class="kn">from</span> <span class="nn">flyteidl.plugins</span> <span class="k">import</span> <span class="n">pytorch_pb2</span> <span class="k">as</span> <span class="n">_pytorch_task</span>
<span class="kn">from</span> <span class="nn">flyteidl.plugins</span> <span class="k">import</span> <span class="n">spark_pb2</span> <span class="k">as</span> <span class="n">_spark_task</span>
<span class="kn">from</span> <span class="nn">flyteidl.plugins</span> <span class="k">import</span> <span class="n">tensorflow_pb2</span> <span class="k">as</span> <span class="n">_tensorflow_task</span>
<span class="kn">from</span> <span class="nn">google.protobuf</span> <span class="k">import</span> <span class="n">json_format</span> <span class="k">as</span> <span class="n">_json_format</span>
<span class="kn">from</span> <span class="nn">google.protobuf</span> <span class="k">import</span> <span class="n">struct_pb2</span> <span class="k">as</span> <span class="n">_struct</span>

<span class="kn">from</span> <span class="nn">flytekit.common.exceptions</span> <span class="k">import</span> <span class="n">user</span> <span class="k">as</span> <span class="n">_user_exceptions</span>
<span class="kn">from</span> <span class="nn">flytekit.models</span> <span class="k">import</span> <span class="n">common</span> <span class="k">as</span> <span class="n">_common</span>
<span class="kn">from</span> <span class="nn">flytekit.models</span> <span class="k">import</span> <span class="n">interface</span> <span class="k">as</span> <span class="n">_interface</span>
<span class="kn">from</span> <span class="nn">flytekit.models</span> <span class="k">import</span> <span class="n">literals</span> <span class="k">as</span> <span class="n">_literals</span>
<span class="kn">from</span> <span class="nn">flytekit.models.core</span> <span class="k">import</span> <span class="n">identifier</span> <span class="k">as</span> <span class="n">_identifier</span>
<span class="kn">from</span> <span class="nn">flytekit.plugins</span> <span class="k">import</span> <span class="n">flyteidl</span> <span class="k">as</span> <span class="n">_lazy_flyteidl</span>
<span class="kn">from</span> <span class="nn">flytekit.sdk.spark_types</span> <span class="k">import</span> <span class="n">SparkType</span> <span class="k">as</span> <span class="n">_spark_type</span>


<div class="viewcode-block" id="Resources"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Resources">[docs]</a><span class="k">class</span> <span class="nc">Resources</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
<div class="viewcode-block" id="Resources.ResourceName"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Resources.ResourceName">[docs]</a>    <span class="k">class</span> <span class="nc">ResourceName</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="n">UNKNOWN</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">Resources</span><span class="o">.</span><span class="n">UNKNOWN</span>
        <span class="n">CPU</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">Resources</span><span class="o">.</span><span class="n">CPU</span>
        <span class="n">GPU</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">Resources</span><span class="o">.</span><span class="n">GPU</span>
        <span class="n">MEMORY</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">Resources</span><span class="o">.</span><span class="n">MEMORY</span>
        <span class="n">STORAGE</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">Resources</span><span class="o">.</span><span class="n">STORAGE</span></div>

<div class="viewcode-block" id="Resources.ResourceEntry"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Resources.ResourceEntry">[docs]</a>    <span class="k">class</span> <span class="nc">ResourceEntry</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            :param int name: enum value from ResourceName</span>
<span class="sd">            :param Text value: a textual value describing the resource need.  Must be a valid k8s quantity.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="n">value</span>

        <span class="nd">@property</span>
        <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            enum value from ResourceName</span>
<span class="sd">            :rtype: int</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

        <span class="nd">@property</span>
        <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            A textual value describing the resource need.  Must be a valid k8s quantity.</span>
<span class="sd">            :rtype: Text</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span>

<div class="viewcode-block" id="Resources.ResourceEntry.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Resources.ResourceEntry.to_flyte_idl">[docs]</a>        <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            :rtype: flyteidl.core.tasks_pb2.ResourceEntry</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">Resources</span><span class="o">.</span><span class="n">ResourceEntry</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Resources.ResourceEntry.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Resources.ResourceEntry.from_flyte_idl">[docs]</a>        <span class="nd">@classmethod</span>
        <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            :param flyteidl.core.tasks_pb2.Resources.ResourceEntry pb2_object:</span>
<span class="sd">            :rtype: Resources.ResourceEntry</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></div></div>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">requests</span><span class="p">,</span> <span class="n">limits</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param list[Resources.ResourceEntry] requests: The desired resources for execution.  This is given on a best</span>
<span class="sd">            effort basis.</span>
<span class="sd">        :param list[Resources.ResourceEntry] limits: These are the limits required.  These are guaranteed to be</span>
<span class="sd">            satisfied.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_requests</span> <span class="o">=</span> <span class="n">requests</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_limits</span> <span class="o">=</span> <span class="n">limits</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">requests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The desired resources for execution.  This is given on a best effort basis.</span>
<span class="sd">        :rtype: list[Resources.ResourceEntry]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_requests</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">limits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        These are the limits required.  These are guaranteed to be satisfied.</span>
<span class="sd">        :rtype: list[Resources.ResourceEntry]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_limits</span>

<div class="viewcode-block" id="Resources.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Resources.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.core.tasks_pb2.Resources</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">Resources</span><span class="p">(</span>
            <span class="n">requests</span><span class="o">=</span><span class="p">[</span><span class="n">r</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">()</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="p">],</span> <span class="n">limits</span><span class="o">=</span><span class="p">[</span><span class="n">r</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">()</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">limits</span><span class="p">],</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Resources.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Resources.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.core.tasks_pb2.Resources.ResourceEntry pb2_object:</span>
<span class="sd">        :rtype: Resources</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">requests</span><span class="o">=</span><span class="p">[</span><span class="n">Resources</span><span class="o">.</span><span class="n">ResourceEntry</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">pb2_object</span><span class="o">.</span><span class="n">requests</span><span class="p">],</span>
            <span class="n">limits</span><span class="o">=</span><span class="p">[</span><span class="n">Resources</span><span class="o">.</span><span class="n">ResourceEntry</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">pb2_object</span><span class="o">.</span><span class="n">limits</span><span class="p">],</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="RuntimeMetadata"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.RuntimeMetadata">[docs]</a><span class="k">class</span> <span class="nc">RuntimeMetadata</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
<div class="viewcode-block" id="RuntimeMetadata.RuntimeType"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.RuntimeMetadata.RuntimeType">[docs]</a>    <span class="k">class</span> <span class="nc">RuntimeType</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="n">OTHER</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">FLYTE_SDK</span> <span class="o">=</span> <span class="mi">1</span></div>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="n">flavor</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param int type: Enum type from RuntimeMetadata.RuntimeType</span>
<span class="sd">        :param Text version: Version string for SDK version.  Can be used for metrics or managing breaking changes in</span>
<span class="sd">            Admin or Propeller</span>
<span class="sd">        :param Text flavor: Optional extra information about runtime environment (e.g. Python, GoLang, etc.)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="nb">type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_version</span> <span class="o">=</span> <span class="n">version</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flavor</span> <span class="o">=</span> <span class="n">flavor</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enum type from RuntimeMetadata.RuntimeType</span>
<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">version</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Version string for SDK version.  Can be used for metrics or managing breaking changes in Admin or Propeller</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_version</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Optional extra information about runtime environment (e.g. Python, GoLang, etc.)</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flavor</span>

<div class="viewcode-block" id="RuntimeMetadata.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.RuntimeMetadata.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.core.tasks_pb2.RuntimeMetadata</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">RuntimeMetadata</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span> <span class="n">flavor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flavor</span><span class="p">)</span></div>

<div class="viewcode-block" id="RuntimeMetadata.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.RuntimeMetadata.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.core.tasks_pb2.RuntimeMetadata pb2_object:</span>
<span class="sd">        :rtype: RuntimeMetadata</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">version</span><span class="p">,</span> <span class="n">flavor</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">flavor</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TaskMetadata"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskMetadata">[docs]</a><span class="k">class</span> <span class="nc">TaskMetadata</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">discoverable</span><span class="p">,</span> <span class="n">runtime</span><span class="p">,</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">retries</span><span class="p">,</span> <span class="n">interruptible</span><span class="p">,</span> <span class="n">discovery_version</span><span class="p">,</span> <span class="n">deprecated_error_message</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Information needed at runtime to determine behavior such as whether or not outputs are discoverable, timeouts,</span>
<span class="sd">        and retries.</span>

<span class="sd">        :param bool discoverable: Whether or not the outputs of this task should be cached for discovery.</span>
<span class="sd">        :param RuntimeMetadata runtime: Metadata describing the runtime environment for this task.</span>
<span class="sd">        :param datetime.timedelta timeout: The amount of time to wait before timing out.  This includes queuing and</span>
<span class="sd">            scheduler latency.</span>
<span class="sd">        :param bool interruptible: Whether or not the task is interruptible.</span>
<span class="sd">        :param flytekit.models.literals.RetryStrategy retries: Retry strategy for this task.  0 retries means only</span>
<span class="sd">            try once.</span>
<span class="sd">        :param Text discovery_version: This is the version used to create a logical version for data in the cache.</span>
<span class="sd">            This is only used when `discoverable` is true.  Data is considered discoverable if: the inputs to a given</span>
<span class="sd">            task are the same and the discovery_version is also the same.</span>
<span class="sd">        :param Text deprecated: This string can be used to mark the task as deprecated.  Consumers of the task will</span>
<span class="sd">            receive deprecation warnings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_discoverable</span> <span class="o">=</span> <span class="n">discoverable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_runtime</span> <span class="o">=</span> <span class="n">runtime</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span> <span class="o">=</span> <span class="n">timeout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_interruptible</span> <span class="o">=</span> <span class="n">interruptible</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_retries</span> <span class="o">=</span> <span class="n">retries</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_version</span> <span class="o">=</span> <span class="n">discovery_version</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_deprecated_error_message</span> <span class="o">=</span> <span class="n">deprecated_error_message</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">discoverable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Whether or not the outputs of this task should be cached for discovery.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_discoverable</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">runtime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Metadata describing the runtime environment for this task.</span>
<span class="sd">        :rtype: RuntimeMetadata</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_runtime</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">retries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retry strategy for this task.  0 retries means only try once.</span>
<span class="sd">        :rtype: flytekit.models.literals.RetryStrategy</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retries</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The amount of time to wait before timing out.  This includes queuing and scheduler latency.</span>
<span class="sd">        :rtype: datetime.timedelta</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timeout</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">interruptible</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Whether or not the task is interruptible.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_interruptible</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">discovery_version</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is the version used to create a logical version for data in the cache.</span>
<span class="sd">        This is only used when `discoverable` is true.  Data is considered discoverable if: the inputs to a given</span>
<span class="sd">        task are the same and the discovery_version is also the same.</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_discovery_version</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">deprecated_error_message</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This string can be used to mark the task as deprecated.  Consumers of the task will receive deprecation</span>
<span class="sd">        warnings.</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deprecated_error_message</span>

<div class="viewcode-block" id="TaskMetadata.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskMetadata.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.admin.task_pb2.TaskMetadata</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tm</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">TaskMetadata</span><span class="p">(</span>
            <span class="n">discoverable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">discoverable</span><span class="p">,</span>
            <span class="n">runtime</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">(),</span>
            <span class="n">retries</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">retries</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">(),</span>
            <span class="n">interruptible</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interruptible</span><span class="p">,</span>
            <span class="n">discovery_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">discovery_version</span><span class="p">,</span>
            <span class="n">deprecated_error_message</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deprecated_error_message</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">tm</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">FromTimedelta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tm</span></div>

<div class="viewcode-block" id="TaskMetadata.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskMetadata.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.core.task_pb2.TaskMetadata pb2_object:</span>
<span class="sd">        :rtype: TaskMetadata</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">discoverable</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">discoverable</span><span class="p">,</span>
            <span class="n">runtime</span><span class="o">=</span><span class="n">RuntimeMetadata</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">runtime</span><span class="p">),</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">ToTimedelta</span><span class="p">(),</span>
            <span class="n">interruptible</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">interruptible</span> <span class="k">if</span> <span class="n">pb2_object</span><span class="o">.</span><span class="n">HasField</span><span class="p">(</span><span class="s2">&quot;interruptible&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">retries</span><span class="o">=</span><span class="n">_literals</span><span class="o">.</span><span class="n">RetryStrategy</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">retries</span><span class="p">),</span>
            <span class="n">discovery_version</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">discovery_version</span><span class="p">,</span>
            <span class="n">deprecated_error_message</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">deprecated_error_message</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="TaskTemplate"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskTemplate">[docs]</a><span class="k">class</span> <span class="nc">TaskTemplate</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="n">custom</span><span class="p">,</span> <span class="n">container</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A task template represents the full set of information necessary to perform a unit of work in the Flyte system.</span>
<span class="sd">        It contains the metadata about what inputs and outputs are consumed or produced.  It also contains the metadata</span>
<span class="sd">        necessary for Flyte Propeller to do the appropriate work.</span>

<span class="sd">        :param flytekit.models.core.identifier.Identifier id: This is generated by the system and uniquely identifies</span>
<span class="sd">            the task.</span>
<span class="sd">        :param Text type: This is used to define additional extensions for use by Propeller or SDK.</span>
<span class="sd">        :param TaskMetadata metadata: This contains information needed at runtime to determine behavior such as</span>
<span class="sd">            whether or not outputs are discoverable, timeouts, and retries.</span>
<span class="sd">        :param flytekit.models.interface.TypedInterface interface: The interface definition for this task.</span>
<span class="sd">        :param dict[Text, T] custom: Dictionary that must be serializable to a protobuf Struct for custom task plugins.</span>
<span class="sd">        :param Container container: Provides the necessary entrypoint information for execution.  For instance,</span>
<span class="sd">            a Container might be specified with the necessary command line arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="nb">type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span> <span class="o">=</span> <span class="n">metadata</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_interface</span> <span class="o">=</span> <span class="n">interface</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_custom</span> <span class="o">=</span> <span class="n">custom</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_container</span> <span class="o">=</span> <span class="n">container</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is generated by the system and uniquely identifies the task.</span>
<span class="sd">        :rtype: flytekit.models.core.identifier.Identifier</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is used to identify additional extensions for use by Propeller or SDK.</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This contains information needed at runtime to determine behavior such as whether or not outputs are</span>
<span class="sd">        discoverable, timeouts, and retries.</span>
<span class="sd">        :rtype: TaskMetadata</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">interface</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The interface definition for this task.</span>
<span class="sd">        :rtype: flytekit.common.interface.TypedInterface</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_interface</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">custom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Arbitrary dictionary containing metadata for custom plugins.</span>
<span class="sd">        :rtype: dict[Text, T]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">container</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If not None, the target of execution should be a container.</span>
<span class="sd">        :rtype: Container</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_container</span>

<div class="viewcode-block" id="TaskTemplate.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskTemplate.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.core.tasks_pb2.TaskTemplate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">TaskTemplate</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">(),</span>
            <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">(),</span>
            <span class="n">interface</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">(),</span>
            <span class="n">custom</span><span class="o">=</span><span class="n">_json_format</span><span class="o">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">_json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">custom</span><span class="p">),</span> <span class="n">_struct</span><span class="o">.</span><span class="n">Struct</span><span class="p">())</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">custom</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TaskTemplate.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskTemplate.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.core.tasks_pb2.TaskTemplate pb2_object:</span>
<span class="sd">        :rtype: TaskTemplate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">_identifier</span><span class="o">.</span><span class="n">Identifier</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">TaskMetadata</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">metadata</span><span class="p">),</span>
            <span class="n">interface</span><span class="o">=</span><span class="n">_interface</span><span class="o">.</span><span class="n">TypedInterface</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">interface</span><span class="p">),</span>
            <span class="n">custom</span><span class="o">=</span><span class="n">_json_format</span><span class="o">.</span><span class="n">MessageToDict</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">custom</span><span class="p">)</span> <span class="k">if</span> <span class="n">pb2_object</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">container</span><span class="o">=</span><span class="n">Container</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">container</span><span class="p">)</span> <span class="k">if</span> <span class="n">pb2_object</span><span class="o">.</span><span class="n">HasField</span><span class="p">(</span><span class="s2">&quot;container&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="TaskSpec"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskSpec">[docs]</a><span class="k">class</span> <span class="nc">TaskSpec</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">template</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param TaskTemplate template:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_template</span> <span class="o">=</span> <span class="n">template</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">template</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: TaskTemplate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_template</span>

<div class="viewcode-block" id="TaskSpec.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskSpec.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.admin.tasks_pb2.TaskSpec</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_admin_task</span><span class="o">.</span><span class="n">TaskSpec</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">template</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">())</span></div>

<div class="viewcode-block" id="TaskSpec.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskSpec.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.admin.tasks_pb2.TaskSpec pb2_object:</span>
<span class="sd">        :rtype: TaskSpec</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">TaskTemplate</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">template</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="Task"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Task">[docs]</a><span class="k">class</span> <span class="nc">Task</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">closure</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flytekit.models.core.identifier.Identifier id: The (project, domain, name) identifier for this task.</span>
<span class="sd">        :param TaskClosure closure: The closure for the underlying workload.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_closure</span> <span class="o">=</span> <span class="n">closure</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The (project, domain, name, version) identifier for this task.</span>
<span class="sd">        :rtype: flytekit.models.core.identifier.Identifier</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">closure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The closure for the underlying workload.</span>
<span class="sd">        :rtype: TaskClosure</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_closure</span>

<div class="viewcode-block" id="Task.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Task.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.admin.task_pb2.Task</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_admin_task</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="n">closure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">closure</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">(),</span> <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">(),)</span></div>

<div class="viewcode-block" id="Task.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Task.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.admin.task_pb2.Task pb2_object:</span>
<span class="sd">        :rtype: TaskDefinition</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">closure</span><span class="o">=</span><span class="n">TaskClosure</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">closure</span><span class="p">),</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">_identifier</span><span class="o">.</span><span class="n">Identifier</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="TaskClosure"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskClosure">[docs]</a><span class="k">class</span> <span class="nc">TaskClosure</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">compiled_task</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param CompiledTask compiled_task:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_compiled_task</span> <span class="o">=</span> <span class="n">compiled_task</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">compiled_task</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: CompiledTask</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compiled_task</span>

<div class="viewcode-block" id="TaskClosure.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskClosure.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.admin.task_pb2.TaskClosure</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_admin_task</span><span class="o">.</span><span class="n">TaskClosure</span><span class="p">(</span><span class="n">compiled_task</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">compiled_task</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">())</span></div>

<div class="viewcode-block" id="TaskClosure.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TaskClosure.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.admin.task_pb2.TaskClosure pb2_object:</span>
<span class="sd">        :rtype: TaskClosure</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">compiled_task</span><span class="o">=</span><span class="n">CompiledTask</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">compiled_task</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="CompiledTask"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.CompiledTask">[docs]</a><span class="k">class</span> <span class="nc">CompiledTask</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">template</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param TaskTemplate template:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_template</span> <span class="o">=</span> <span class="n">template</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">template</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: TaskTemplate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_template</span>

<div class="viewcode-block" id="CompiledTask.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.CompiledTask.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.core.compiler_pb2.CompiledTask</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_compiler</span><span class="o">.</span><span class="n">CompiledTask</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">template</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">())</span></div>

<div class="viewcode-block" id="CompiledTask.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.CompiledTask.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.core.compiler_pb2.CompiledTask pb2_object:</span>
<span class="sd">        :rtype: CompiledTask</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="n">TaskTemplate</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">template</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="SparkJob"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.SparkJob">[docs]</a><span class="k">class</span> <span class="nc">SparkJob</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">spark_type</span><span class="p">,</span> <span class="n">application_file</span><span class="p">,</span> <span class="n">main_class</span><span class="p">,</span> <span class="n">spark_conf</span><span class="p">,</span> <span class="n">hadoop_conf</span><span class="p">,</span> <span class="n">executor_path</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This defines a SparkJob target.  It will execute the appropriate SparkJob.</span>

<span class="sd">        :param application_file: The main application file to execute.</span>
<span class="sd">        :param dict[Text, Text] spark_conf: A definition of key-value pairs for spark config for the job.</span>
<span class="sd">        :param dict[Text, Text] hadoop_conf: A definition of key-value pairs for hadoop config for the job.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_application_file</span> <span class="o">=</span> <span class="n">application_file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_spark_type</span> <span class="o">=</span> <span class="n">spark_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_main_class</span> <span class="o">=</span> <span class="n">main_class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_executor_path</span> <span class="o">=</span> <span class="n">executor_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_spark_conf</span> <span class="o">=</span> <span class="n">spark_conf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hadoop_conf</span> <span class="o">=</span> <span class="n">hadoop_conf</span>

<div class="viewcode-block" id="SparkJob.with_overrides"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.SparkJob.with_overrides">[docs]</a>    <span class="k">def</span> <span class="nf">with_overrides</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">new_spark_conf</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">new_hadoop_conf</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SparkJob&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">new_spark_conf</span><span class="p">:</span>
            <span class="n">new_spark_conf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">spark_conf</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">new_hadoop_conf</span><span class="p">:</span>
            <span class="n">new_hadoop_conf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hadoop_conf</span>

        <span class="k">return</span> <span class="n">SparkJob</span><span class="p">(</span>
            <span class="n">spark_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">spark_type</span><span class="p">,</span>
            <span class="n">application_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">application_file</span><span class="p">,</span>
            <span class="n">main_class</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_class</span><span class="p">,</span>
            <span class="n">spark_conf</span><span class="o">=</span><span class="n">new_spark_conf</span><span class="p">,</span>
            <span class="n">hadoop_conf</span><span class="o">=</span><span class="n">new_hadoop_conf</span><span class="p">,</span>
            <span class="n">executor_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">executor_path</span><span class="p">,</span>
        <span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">main_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The main class to execute</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_main_class</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">spark_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Spark Job Type</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_spark_type</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">application_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The main application file to execute</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_application_file</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">executor_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The python executable to use</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_executor_path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">spark_conf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A definition of key-value pairs for spark config for the job.</span>
<span class="sd">         :rtype: dict[Text, Text]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_spark_conf</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hadoop_conf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">         A definition of key-value pairs for hadoop config for the job.</span>
<span class="sd">        :rtype: dict[Text, Text]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hadoop_conf</span>

<div class="viewcode-block" id="SparkJob.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.SparkJob.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.plugins.spark_pb2.SparkJob</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">spark_type</span> <span class="o">==</span> <span class="n">_spark_type</span><span class="o">.</span><span class="n">PYTHON</span><span class="p">:</span>
            <span class="n">application_type</span> <span class="o">=</span> <span class="n">_spark_task</span><span class="o">.</span><span class="n">SparkApplication</span><span class="o">.</span><span class="n">PYTHON</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">spark_type</span> <span class="o">==</span> <span class="n">_spark_type</span><span class="o">.</span><span class="n">JAVA</span><span class="p">:</span>
            <span class="n">application_type</span> <span class="o">=</span> <span class="n">_spark_task</span><span class="o">.</span><span class="n">SparkApplication</span><span class="o">.</span><span class="n">JAVA</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">spark_type</span> <span class="o">==</span> <span class="n">_spark_type</span><span class="o">.</span><span class="n">SCALA</span><span class="p">:</span>
            <span class="n">application_type</span> <span class="o">=</span> <span class="n">_spark_task</span><span class="o">.</span><span class="n">SparkApplication</span><span class="o">.</span><span class="n">SCALA</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">spark_type</span> <span class="o">==</span> <span class="n">_spark_type</span><span class="o">.</span><span class="n">R</span><span class="p">:</span>
            <span class="n">application_type</span> <span class="o">=</span> <span class="n">_spark_task</span><span class="o">.</span><span class="n">SparkApplication</span><span class="o">.</span><span class="n">R</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">_user_exceptions</span><span class="o">.</span><span class="n">FlyteValidationException</span><span class="p">(</span><span class="s2">&quot;Invalid Spark Application Type Specified&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">_spark_task</span><span class="o">.</span><span class="n">SparkJob</span><span class="p">(</span>
            <span class="n">applicationType</span><span class="o">=</span><span class="n">application_type</span><span class="p">,</span>
            <span class="n">mainApplicationFile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">application_file</span><span class="p">,</span>
            <span class="n">mainClass</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_class</span><span class="p">,</span>
            <span class="n">executorPath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">executor_path</span><span class="p">,</span>
            <span class="n">sparkConf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">spark_conf</span><span class="p">,</span>
            <span class="n">hadoopConf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hadoop_conf</span><span class="p">,</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="SparkJob.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.SparkJob.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.plugins.spark_pb2.SparkJob pb2_object:</span>
<span class="sd">        :rtype: SparkJob</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">application_type</span> <span class="o">=</span> <span class="n">_spark_type</span><span class="o">.</span><span class="n">PYTHON</span>
        <span class="k">if</span> <span class="n">pb2_object</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">_spark_task</span><span class="o">.</span><span class="n">SparkApplication</span><span class="o">.</span><span class="n">JAVA</span><span class="p">:</span>
            <span class="n">application_type</span> <span class="o">=</span> <span class="n">_spark_type</span><span class="o">.</span><span class="n">JAVA</span>
        <span class="k">elif</span> <span class="n">pb2_object</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">_spark_task</span><span class="o">.</span><span class="n">SparkApplication</span><span class="o">.</span><span class="n">SCALA</span><span class="p">:</span>
            <span class="n">application_type</span> <span class="o">=</span> <span class="n">_spark_type</span><span class="o">.</span><span class="n">SCALA</span>
        <span class="k">elif</span> <span class="n">pb2_object</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">_spark_task</span><span class="o">.</span><span class="n">SparkApplication</span><span class="o">.</span><span class="n">R</span><span class="p">:</span>
            <span class="n">application_type</span> <span class="o">=</span> <span class="n">_spark_type</span><span class="o">.</span><span class="n">R</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">application_type</span><span class="p">,</span>
            <span class="n">spark_conf</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">sparkConf</span><span class="p">,</span>
            <span class="n">application_file</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">mainApplicationFile</span><span class="p">,</span>
            <span class="n">main_class</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">mainClass</span><span class="p">,</span>
            <span class="n">hadoop_conf</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">hadoopConf</span><span class="p">,</span>
            <span class="n">executor_path</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">executorPath</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="IOStrategy"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.IOStrategy">[docs]</a><span class="k">class</span> <span class="nc">IOStrategy</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Provides methods to manage data in and out of the Raw container using Download Modes. This can only be used if DataLoadingConfig is enabled.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">DOWNLOAD_MODE_EAGER</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="o">.</span><span class="n">DOWNLOAD_EAGER</span>
    <span class="n">DOWNLOAD_MODE_STREAM</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="o">.</span><span class="n">DOWNLOAD_STREAM</span>
    <span class="n">DOWNLOAD_MODE_NO_DOWNLOAD</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="o">.</span><span class="n">DO_NOT_DOWNLOAD</span>

    <span class="n">UPLOAD_MODE_EAGER</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="o">.</span><span class="n">UPLOAD_EAGER</span>
    <span class="n">UPLOAD_MODE_ON_EXIT</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="o">.</span><span class="n">UPLOAD_ON_EXIT</span>
    <span class="n">UPLOAD_MODE_NO_UPLOAD</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="o">.</span><span class="n">DO_NOT_UPLOAD</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">download_mode</span><span class="p">:</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="o">.</span><span class="n">DownloadMode</span> <span class="o">=</span> <span class="n">DOWNLOAD_MODE_EAGER</span><span class="p">,</span>
        <span class="n">upload_mode</span><span class="p">:</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="o">.</span><span class="n">UploadMode</span> <span class="o">=</span> <span class="n">UPLOAD_MODE_ON_EXIT</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_download_mode</span> <span class="o">=</span> <span class="n">download_mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_upload_mode</span> <span class="o">=</span> <span class="n">upload_mode</span>

<div class="viewcode-block" id="IOStrategy.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.IOStrategy.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="p">(</span><span class="n">download_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_download_mode</span><span class="p">,</span> <span class="n">upload_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_upload_mode</span><span class="p">)</span></div>

<div class="viewcode-block" id="IOStrategy.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.IOStrategy.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">:</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">IOStrategy</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">pb2_object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">download_mode</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">download_mode</span><span class="p">,</span> <span class="n">upload_mode</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">upload_mode</span><span class="p">,)</span></div></div>


<div class="viewcode-block" id="DataLoadingConfig"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.DataLoadingConfig">[docs]</a><span class="k">class</span> <span class="nc">DataLoadingConfig</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="n">LITERALMAP_FORMAT_PROTO</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">DataLoadingConfig</span><span class="o">.</span><span class="n">PROTO</span>
    <span class="n">LITERALMAP_FORMAT_JSON</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">DataLoadingConfig</span><span class="o">.</span><span class="n">JSON</span>
    <span class="n">LITERALMAP_FORMAT_YAML</span> <span class="o">=</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">DataLoadingConfig</span><span class="o">.</span><span class="n">YAML</span>
    <span class="n">_LITERALMAP_FORMATS</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">([</span><span class="n">LITERALMAP_FORMAT_JSON</span><span class="p">,</span> <span class="n">LITERALMAP_FORMAT_PROTO</span><span class="p">,</span> <span class="n">LITERALMAP_FORMAT_YAML</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">input_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">output_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="nb">format</span><span class="p">:</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">DataLoadingConfig</span><span class="o">.</span><span class="n">LiteralMapFormat</span> <span class="o">=</span> <span class="n">LITERALMAP_FORMAT_PROTO</span><span class="p">,</span>
        <span class="n">io_strategy</span><span class="p">:</span> <span class="n">IOStrategy</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="nb">format</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_LITERALMAP_FORMATS</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Metadata format </span><span class="si">{}</span><span class="s2"> not supported. Should be one of </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">format</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_LITERALMAP_FORMATS</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_input_path</span> <span class="o">=</span> <span class="n">input_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output_path</span> <span class="o">=</span> <span class="n">output_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_enabled</span> <span class="o">=</span> <span class="n">enabled</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_format</span> <span class="o">=</span> <span class="nb">format</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_io_strategy</span> <span class="o">=</span> <span class="n">io_strategy</span>

<div class="viewcode-block" id="DataLoadingConfig.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.DataLoadingConfig.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">DataLoadingConfig</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">DataLoadingConfig</span><span class="p">(</span>
            <span class="n">input_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_input_path</span><span class="p">,</span>
            <span class="n">output_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_output_path</span><span class="p">,</span>
            <span class="nb">format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_format</span><span class="p">,</span>
            <span class="n">enabled</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_enabled</span><span class="p">,</span>
            <span class="n">io_strategy</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_io_strategy</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_io_strategy</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="DataLoadingConfig.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.DataLoadingConfig.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2</span><span class="p">:</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">DataLoadingConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DataLoadingConfig&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pb2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">input_path</span><span class="o">=</span><span class="n">pb2</span><span class="o">.</span><span class="n">input_path</span><span class="p">,</span>
            <span class="n">output_path</span><span class="o">=</span><span class="n">pb2</span><span class="o">.</span><span class="n">output_path</span><span class="p">,</span>
            <span class="n">enabled</span><span class="o">=</span><span class="n">pb2</span><span class="o">.</span><span class="n">enabled</span><span class="p">,</span>
            <span class="nb">format</span><span class="o">=</span><span class="n">pb2</span><span class="o">.</span><span class="n">format</span><span class="p">,</span>
            <span class="n">io_strategy</span><span class="o">=</span><span class="n">IOStrategy</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2</span><span class="o">.</span><span class="n">io_strategy</span><span class="p">)</span> <span class="k">if</span> <span class="n">pb2</span><span class="o">.</span><span class="n">HasField</span><span class="p">(</span><span class="s2">&quot;io_strategy&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="Container"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Container">[docs]</a><span class="k">class</span> <span class="nc">Container</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">resources</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">data_loading_config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This defines a container target.  It will execute the appropriate command line on the appropriate image with</span>
<span class="sd">        the given configurations.</span>

<span class="sd">        :param Text image: The fully-qualified identifier for the image.</span>
<span class="sd">        :param list[Text] command: A list of &#39;words&#39; for the command.  i.e. [&#39;aws&#39;, &#39;s3&#39;, &#39;ls&#39;]</span>
<span class="sd">        :param list[Text] args: A list of arguments for the command.  i.e. [&#39;s3://some/path&#39;, &#39;/tmp/local/path&#39;]</span>
<span class="sd">        :param Resources resources: A definition of requisite compute resources.</span>
<span class="sd">        :param dict[Text, Text] env: A definition of key-value pairs for environment variables.</span>
<span class="sd">        :param dict[Text, Text] config: A definition of configuration key-value pairs.</span>
<span class="sd">        :type DataLoadingConfig data_loading_config: object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_loading_config</span> <span class="o">=</span> <span class="n">data_loading_config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_image</span> <span class="o">=</span> <span class="n">image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="o">=</span> <span class="n">command</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_args</span> <span class="o">=</span> <span class="n">args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span> <span class="o">=</span> <span class="n">resources</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_env</span> <span class="o">=</span> <span class="n">env</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">config</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The fully-qualified identifier for the image.</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_image</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A list of &#39;words&#39; for the command.  i.e. [&#39;aws&#39;, &#39;s3&#39;, &#39;ls&#39;]</span>
<span class="sd">        :rtype: list[Text]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">         A list of arguments for the command.  i.e. [&#39;s3://some/path&#39;, &#39;/tmp/local/path&#39;]</span>
<span class="sd">        :rtype: list[Text]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_args</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">resources</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A definition of requisite compute resources.</span>
<span class="sd">        :rtype: Resources</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">env</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A definition of key-value pairs for environment variables.  Currently, only str-&gt;str is</span>
<span class="sd">            supported.</span>
<span class="sd">        :rtype: dict[Text, Text]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_env</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A definition of key-value pairs for configuration.  Currently, only str-&gt;str is</span>
<span class="sd">            supported.</span>
<span class="sd">        :rtype: dict[Text, Text]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_loading_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: DataLoadingConfig</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_loading_config</span>

<div class="viewcode-block" id="Container.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Container.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.core.tasks_pb2.Container</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_core_task</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
            <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
            <span class="n">resources</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">(),</span>
            <span class="n">env</span><span class="o">=</span><span class="p">[</span><span class="n">_literals_pb2</span><span class="o">.</span><span class="n">KeyValuePair</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">_six</span><span class="o">.</span><span class="n">iteritems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="p">)],</span>
            <span class="n">config</span><span class="o">=</span><span class="p">[</span><span class="n">_literals_pb2</span><span class="o">.</span><span class="n">KeyValuePair</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">_six</span><span class="o">.</span><span class="n">iteritems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">)],</span>
            <span class="n">data_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_loading_config</span><span class="o">.</span><span class="n">to_flyte_idl</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_loading_config</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Container.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.Container.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.admin.task_pb2.Task pb2_object:</span>
<span class="sd">        :rtype: Container</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">image</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">command</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
            <span class="n">resources</span><span class="o">=</span><span class="n">Resources</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">resources</span><span class="p">),</span>
            <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="n">kv</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="n">kv</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">kv</span> <span class="ow">in</span> <span class="n">pb2_object</span><span class="o">.</span><span class="n">env</span><span class="p">},</span>
            <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="n">kv</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="n">kv</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">kv</span> <span class="ow">in</span> <span class="n">pb2_object</span><span class="o">.</span><span class="n">config</span><span class="p">},</span>
            <span class="n">data_loading_config</span><span class="o">=</span><span class="n">DataLoadingConfig</span><span class="o">.</span><span class="n">from_flyte_idl</span><span class="p">(</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">data_config</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">pb2_object</span><span class="o">.</span><span class="n">HasField</span><span class="p">(</span><span class="s2">&quot;data_config&quot;</span><span class="p">)</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="SidecarJob"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.SidecarJob">[docs]</a><span class="k">class</span> <span class="nc">SidecarJob</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pod_spec</span><span class="p">,</span> <span class="n">primary_container_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A sidecar job represents the full kubernetes pod spec and related metadata required for executing a sidecar</span>
<span class="sd">        task.</span>

<span class="sd">        :param pod_spec: k8s.io.api.core.v1.PodSpec</span>
<span class="sd">        :param primary_container_name: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pod_spec</span> <span class="o">=</span> <span class="n">pod_spec</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_primary_container_name</span> <span class="o">=</span> <span class="n">primary_container_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pod_spec</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: k8s.io.api.core.v1.PodSpec</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pod_spec</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">primary_container_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: Text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_primary_container_name</span>

<div class="viewcode-block" id="SidecarJob.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.SidecarJob.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :rtype: flyteidl.core.tasks_pb2.SidecarJob</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_lazy_flyteidl</span><span class="o">.</span><span class="n">plugins</span><span class="o">.</span><span class="n">sidecar_pb2</span><span class="o">.</span><span class="n">SidecarJob</span><span class="p">(</span>
            <span class="n">pod_spec</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pod_spec</span><span class="p">,</span> <span class="n">primary_container_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">primary_container_name</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="SidecarJob.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.SidecarJob.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param flyteidl.admin.task_pb2.Task pb2_object:</span>
<span class="sd">        :rtype: Container</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">pod_spec</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">pod_spec</span><span class="p">,</span> <span class="n">primary_container_name</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">primary_container_name</span><span class="p">,)</span></div></div>


<div class="viewcode-block" id="PyTorchJob"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.PyTorchJob">[docs]</a><span class="k">class</span> <span class="nc">PyTorchJob</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workers_count</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workers_count</span> <span class="o">=</span> <span class="n">workers_count</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">workers_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workers_count</span>

<div class="viewcode-block" id="PyTorchJob.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.PyTorchJob.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_pytorch_task</span><span class="o">.</span><span class="n">DistributedPyTorchTrainingTask</span><span class="p">(</span><span class="n">workers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workers_count</span><span class="p">,)</span></div>

<div class="viewcode-block" id="PyTorchJob.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.PyTorchJob.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">workers_count</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">workers</span><span class="p">,)</span></div></div>


<div class="viewcode-block" id="TensorFlowJob"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TensorFlowJob">[docs]</a><span class="k">class</span> <span class="nc">TensorFlowJob</span><span class="p">(</span><span class="n">_common</span><span class="o">.</span><span class="n">FlyteIdlEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workers_count</span><span class="p">,</span> <span class="n">ps_replicas_count</span><span class="p">,</span> <span class="n">chief_replicas_count</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workers_count</span> <span class="o">=</span> <span class="n">workers_count</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ps_replicas_count</span> <span class="o">=</span> <span class="n">ps_replicas_count</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_chief_replicas_count</span> <span class="o">=</span> <span class="n">chief_replicas_count</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">workers_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workers_count</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ps_replicas_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ps_replicas_count</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">chief_replicas_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_chief_replicas_count</span>

<div class="viewcode-block" id="TensorFlowJob.to_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TensorFlowJob.to_flyte_idl">[docs]</a>    <span class="k">def</span> <span class="nf">to_flyte_idl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_tensorflow_task</span><span class="o">.</span><span class="n">DistributedTensorflowTrainingTask</span><span class="p">(</span>
            <span class="n">workers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workers_count</span><span class="p">,</span> <span class="n">ps_replicas</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ps_replicas_count</span><span class="p">,</span> <span class="n">chief_replicas</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">chief_replicas_count</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="TensorFlowJob.from_flyte_idl"><a class="viewcode-back" href="../../../flytekit/flytekit.models.html#flytekit.models.task.TensorFlowJob.from_flyte_idl">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_flyte_idl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pb2_object</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">workers_count</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">workers</span><span class="p">,</span>
            <span class="n">ps_replicas_count</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">ps_replicas</span><span class="p">,</span>
            <span class="n">chief_replicas_count</span><span class="o">=</span><span class="n">pb2_object</span><span class="o">.</span><span class="n">chief_replicas</span><span class="p">,</span>
        <span class="p">)</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Flyte Authors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>